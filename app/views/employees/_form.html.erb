<script>
	function fingerprint(fg) {
		$('#employee_fingerprint').val(fg);
		return false;
	}

	function load_others_collections() {
		alert("oi");
		var id = $('#employee_enterprise_id :selected').val();
		jQuery.get('/employees/get_office_hours?enterprise_id=' + id, function(data) {
			$("#combo_office_hour").html(data);
		});
		
		jQuery.get('/employees/get_departments?enterprise_id=' + id, function(data) {
			$("#combo_department").html(data);
		});
		
		return false;
	}

	$(function() {

		$("#employee_cpf").mask("999.999.999-99");
		$("#employee_phone").mask("(99) 9999-9999");
		$("#employee_cel_phone").mask("(99) 9999-9999");
		$("#employee_address_zip_code").mask("99.999-999");
	}); 
</script>

<%= simple_form_for(@employee) do |f| %>
<%= f.error_notification %>

<div class="form-inputs">
	<ul class="nav nav-tabs">
		<li class="active">
			<a href="#tab1" data-toggle="tab">Dados gerais</a>
		</li>
		<li>
			<a href="#tab2" data-toggle="tab">Documentos</a>
		</li>
		<li>
			<a href="#tab3" data-toggle="tab">Endere√ßo</a>
		</li>
	</ul>
	<div class="tab-content">
		<div class="tab-pane active" id="tab1">
			<div class="row">
				<div class="span2">
					<%= f.input :registry, :input_html => { :class => 'span2' }%>
				</div>
				<div class="span6">
					<%= f.input :name, :input_html => { :class => 'span6' }%>
				</div>
				<div class="span4">
					<%= f.association :enterprise, :label_method => :name, :input_html => { :class => 'span4', :onChange => "load_others_collections()" }%>
				</div>
			</div>
			<div class="row">
				<div class="span4">
					<div id="combo_office_hour">
						<%= render :partial => 'combo_office_hours', :locals => {:f => f, :office_hours => @office_hours} %>
					</div>
				</div>
				<div class="span4">
					<div id="combo_department">
						<%= render :partial => 'combo_departments', :locals => {:f => f, :departments => @departaments}  %>
					</div>
				</div>
				<div class="span4">
					<%= f.association :role, :label_method => :description, :input_html => { :class => 'span4' }%>
				</div>
			</div>
			<div class="row">
				<div class="span2">
					<%= f.input :date_of_admission, :as => :string, :input_html => { :class => 'span2 datepicker' }%>
				</div>
				<div class="span2">
					<%= f.input :sex, :collection => ['F', 'M'], :input_html => { :class => 'span2' }%>
				</div>
				<div class="span2">
					<%= f.input :password, :input_html => { :class => 'span2' }%>
				</div>
				<div class="span2">
					<%= f.input :date_of_birth, :as => :string, :input_html => { :class => 'span2 datepicker' }%>
				</div>
				<div class="span2">
					<%= f.input :status, :collection => Status::STATUS_LIST, :input_html => { :class => 'span2' }%>
				</div>
			</div>
			<div class="row">
				<div class="span6">
					<%= f.input :email, :input_html => { :class => 'span6' }%>
				</div>
				<div class="span3">
					<%= f.input :phone, :input_html => { :class => 'span3' }%>
				</div>
				<div class="span3">
					<%= f.input :cel_phone, :input_html => { :class => 'span3' }%>
				</div>
			</div>
			<div class="row">
				<div class="span12">
					<%= f.input :obs, :input_html => { :class => 'span12' }%>
				</div>
			</div>
		</div>
		<div class="tab-pane" id="tab2">
			<%= f.input :cpf %>
			<div class="row">
				<div class="span4">
					<%= f.input :rg_number, :input_html => { :class => 'span4' }%>
				</div>
				<div class="span4">
					<%= f.input :rg_issue_date, :as => :string, :input_html => { :class => 'span4 datepicker' }%>
				</div>
				<div class="span4">
					<%= f.input :rg_issuing, :input_html => { :class => 'span4' }%>
				</div>
			</div>
			<div class="row">
				<div class="span4">
					<%= f.input :nit_pis_pasep, :input_html => { :class => 'span4' }%>
				</div>
				<div class="span4">
					<%= f.input :ctps_number, :input_html => { :class => 'span4' }%>
				</div>
				<div class="span2">
					<%= f.input :cpts_series, :input_html => { :class => 'span2' }%>
				</div>
				<div class="span2">
					<%= f.input :cpts_uf, :input_html => { :class => 'span2' }%>
				</div>
			</div>
		</div>
		<div class="tab-pane" id="tab3">
			<div class="row">
				<div class="span6">
					<%= f.input :address, :input_html => { :class => 'span6' } %>
				</div>
				<div class="span2">
					<%= f.input :address_number, :input_html => { :class => 'span2' } %>
				</div>
				<div class="span4">
					<%= f.input :address_complement, :input_html => { :class => 'span4' } %>
				</div>
			</div>
			<div class="row">
				<div class="span4">
					<%= f.input :address_neighborhood, :input_html => { :class => 'span4' } %>
				</div>
				<div class="span2">
					<%= f.input :address_zip_code, :input_html => { :class => 'span2' } %>
				</div>
				<div class="span4">
					<%= f.input :address_city, :input_html => { :class => 'span4' } %>
				</div>
				<div class="span2">
					<%= f.input :adress_state, :input_html => { :class => 'span2' } %>
				</div>
			</div>
		</div>

	</div>
</div>

<div class="form-actions">
	<%= f.button :submit, "Salvar" %>
</div>
<% end %>
